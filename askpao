#!/bin/sh
q=""
start=0;
DIR="$( cd "$( dirname "${BASH_SOURCE[0]}" )" && pwd )"
end=$(sqlite3 $DIR/major.db "select max(digits) from major;")
if [ -z "$1" ]
then
  echo start=$start  
else
  start=$1;
  echo start=$start
fi

if [ -z "$2" ]
then
  if [ -n "$start" ]
    then
      end=$start
  fi
  echo end=$end
else
  end=$2;
  echo end=$end
fi



while [ "$q" != "exit" ]
do 
  pao=$(sqlite3 $DIR/major.db "select pao from major where digits <= '$end' and digits >='$start' order by random() limit 1;")
# echo $pao
  digits=$(sqlite3 $DIR/major.db "select digits from major where pao='$pao'")
  echo "Do you remember $digits?"
  read q
  if [ "$q" = "$pao" ]
  then
    echo "Right!"
  else
    while [ "$q" != "$pao" -a "$q" != "exit" ]
     do
	echo "Wrong!"
	echo "It was '$pao'"
	read q
     done
  fi
done
